{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL Latitude E747O\\\\Downloads\\\\ramp-fe-challenge\\\\ramp-fe-challenge\\\\src\\\\components\\\\InputSelect\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function InputSelect(_ref) {\n  _s();\n\n  let {\n    label,\n    defaultValue,\n    onChange: consumerOnChange,\n    items,\n    parseItem,\n    isLoading = false,\n    loadingLabel = \"Loading\"\n  } = _ref;\n  const [selectedValue, setSelectedValue] = useState(defaultValue !== null && defaultValue !== void 0 ? defaultValue : null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const dropdownRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const toggleDropdown = () => setIsOpen(prev => !prev);\n\n  const handleSelect = item => {\n    setSelectedValue(item);\n    consumerOnChange(item);\n    setIsOpen(false);\n    setHighlightedIndex(-1);\n  };\n\n  const handleKeyDown = event => {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      toggleDropdown();\n    } else if (event.key === \"ArrowDown\") {\n      setHighlightedIndex(prev => Math.min(prev + 1, items.length - 1));\n    } else if (event.key === \"ArrowUp\") {\n      setHighlightedIndex(prev => Math.max(prev - 1, -1));\n    } else if (event.key === \"Escape\") {\n      setIsOpen(false);\n    }\n  };\n\n  const handleClickOutside = event => {\n    if (dropdownRef.current && !dropdownRef.current.contains(event.target) && inputRef.current && !inputRef.current.contains(event.target)) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"RampInputSelect--root\",\n    ref: dropdownRef,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"RampText--s RampText--hushed\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"RampBreak--xs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"RampInputSelect--input\",\n      ref: inputRef,\n      onClick: toggleDropdown,\n      onKeyDown: handleKeyDown,\n      role: \"button\",\n      tabIndex: 0 // Make it focusable\n      ,\n      children: selectedValue ? parseItem(selectedValue).label : \"Select an option\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"RampInputSelect--dropdown-container\",\n      style: {\n        position: \"absolute\",\n        width: \"100%\",\n        zIndex: 1000\n      } // Ensure dropdown appears above other elements\n      ,\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RampInputSelect--dropdown-item\",\n        children: [loadingLabel, \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this) : items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RampInputSelect--dropdown-item\",\n        children: \"No items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this) : items.map((item, index) => {\n        const parsedItem = parseItem(item);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames(\"RampInputSelect--dropdown-item\", {\n            \"RampInputSelect--dropdown-item-highlighted\": highlightedIndex === index\n          }),\n          onMouseEnter: () => setHighlightedIndex(index),\n          onClick: () => handleSelect(item),\n          children: parsedItem.label\n        }, parsedItem.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InputSelect, \"Jl7+3at7IOGC7OFLao740tpHXpU=\");\n\n_c = InputSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputSelect\");","map":{"version":3,"names":["React","useEffect","useRef","useState","classNames","InputSelect","label","defaultValue","onChange","consumerOnChange","items","parseItem","isLoading","loadingLabel","selectedValue","setSelectedValue","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","dropdownRef","inputRef","toggleDropdown","prev","handleSelect","item","handleKeyDown","event","key","Math","min","length","max","handleClickOutside","current","contains","target","document","addEventListener","removeEventListener","position","width","zIndex","map","index","parsedItem","value"],"sources":["C:/Users/DELL Latitude E747O/Downloads/ramp-fe-challenge/ramp-fe-challenge/src/components/InputSelect/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\n\ninterface InputSelectProps<TItem> {\n  label: string;\n  defaultValue?: TItem | null;\n  onChange: (selectedItem: TItem | null) => void;\n  items: TItem[];\n  parseItem: (item: TItem) => { value: string; label: string };\n  isLoading?: boolean;\n  loadingLabel?: string;\n}\n\nexport function InputSelect<TItem>({\n  label,\n  defaultValue,\n  onChange: consumerOnChange,\n  items,\n  parseItem,\n  isLoading = false,\n  loadingLabel = \"Loading\",\n}: InputSelectProps<TItem>) {\n  const [selectedValue, setSelectedValue] = useState<TItem | null>(defaultValue ?? null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const dropdownRef = useRef<HTMLDivElement | null>(null);\n  const inputRef = useRef<HTMLDivElement | null>(null);\n\n  const toggleDropdown = () => setIsOpen((prev) => !prev);\n\n  const handleSelect = (item: TItem) => {\n    setSelectedValue(item);\n    consumerOnChange(item);\n    setIsOpen(false);\n    setHighlightedIndex(-1);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      toggleDropdown();\n    } else if (event.key === \"ArrowDown\") {\n      setHighlightedIndex((prev) => Math.min(prev + 1, items.length - 1));\n    } else if (event.key === \"ArrowUp\") {\n      setHighlightedIndex((prev) => Math.max(prev - 1, -1));\n    } else if (event.key === \"Escape\") {\n      setIsOpen(false);\n    }\n  };\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (\n      dropdownRef.current &&\n      !dropdownRef.current.contains(event.target as Node) &&\n      inputRef.current &&\n      !inputRef.current.contains(event.target as Node)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <div className=\"RampInputSelect--root\" ref={dropdownRef}>\n      <label className=\"RampText--s RampText--hushed\">{label}</label>\n      <div className=\"RampBreak--xs\" />\n      <div\n        className=\"RampInputSelect--input\"\n        ref={inputRef}\n        onClick={toggleDropdown}\n        onKeyDown={handleKeyDown}\n        role=\"button\"\n        tabIndex={0} // Make it focusable\n      >\n        {selectedValue ? parseItem(selectedValue).label : \"Select an option\"}\n      </div>\n\n      {isOpen && (\n        <div\n          className=\"RampInputSelect--dropdown-container\"\n          style={{ position: \"absolute\", width: \"100%\", zIndex: 1000 }} // Ensure dropdown appears above other elements\n        >\n          {isLoading ? (\n            <div className=\"RampInputSelect--dropdown-item\">{loadingLabel}...</div>\n          ) : items.length === 0 ? (\n            <div className=\"RampInputSelect--dropdown-item\">No items</div>\n          ) : (\n            items.map((item, index) => {\n              const parsedItem = parseItem(item);\n              return (\n                <div\n                  key={parsedItem.value}\n                  className={classNames(\"RampInputSelect--dropdown-item\", {\n                    \"RampInputSelect--dropdown-item-highlighted\": highlightedIndex === index,\n                  })}\n                  onMouseEnter={() => setHighlightedIndex(index)}\n                  onClick={() => handleSelect(item)}\n                >\n                  {parsedItem.label}\n                </div>\n              );\n            })\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}