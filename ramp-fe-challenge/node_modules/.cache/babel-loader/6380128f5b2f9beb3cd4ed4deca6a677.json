{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL Latitude E747O\\\\Downloads\\\\ramp-fe-challenge\\\\ramp-fe-challenge\\\\src\\\\components\\\\InputSelect\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport Downshift from \"downshift\";\nimport { useCallback, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function InputSelect(_ref) {\n  _s();\n\n  let {\n    label,\n    defaultValue,\n    onChange: consumerOnChange,\n    items,\n    parseItem,\n    isLoading,\n    loadingLabel\n  } = _ref;\n  const [selectedValue, setSelectedValue] = useState(defaultValue !== null && defaultValue !== void 0 ? defaultValue : null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const onChange = useCallback(selectedItem => {\n    if (selectedItem === null) {\n      return;\n    }\n\n    consumerOnChange(selectedItem);\n    setSelectedValue(selectedItem);\n    setIsOpen(false);\n  }, [consumerOnChange]);\n\n  const toggleDropdown = event => {\n    setDropdownPosition(getDropdownPosition(event.currentTarget));\n    setIsOpen(prev => !prev);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Downshift, {\n    id: \"RampSelect\",\n    onChange: onChange,\n    selectedItem: selectedValue,\n    itemToString: item => item ? parseItem(item).label : \"\",\n    children: [_ref2 => {\n      let {\n        getItemProps,\n        getLabelProps,\n        getMenuProps,\n        highlightedIndex,\n        selectedItem\n      } = _ref2;\n      const parsedSelectedItem = selectedItem === null ? null : parseItem(selectedItem);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RampInputSelect--root\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"RampText--s RampText--hushed\",\n          ...getLabelProps(),\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"RampBreak--xs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"RampInputSelect--input\",\n          onClick: toggleDropdown,\n          children: parsedSelectedItem ? parsedSelectedItem.label : \"Select an option\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames(\"RampInputSelect--dropdown-container\"),\n          ...getMenuProps(),\n          style: {\n            top: dropdownPosition.top,\n            left: dropdownPosition.left\n          },\n          children: renderItems()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    }, renderItems()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n\n  function renderItems() {\n    if (!isOpen) {\n      return null;\n    }\n\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RampInputSelect--dropdown-item\",\n        children: [loadingLabel, \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (items.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"RampInputSelect--dropdown-item\",\n        children: \"No items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 14\n      }, this);\n    }\n\n    return items.map((item, index) => {\n      var _parsedSelectedItem;\n\n      const parsedItem = parseItem(item);\n      return /*#__PURE__*/_jsxDEV(\"div\", { ...getItemProps({\n          index,\n          item,\n          className: classNames(\"RampInputSelect--dropdown-item\", {\n            \"RampInputSelect--dropdown-item-highlighted\": highlightedIndex === index,\n            \"RampInputSelect--dropdown-item-selected\": ((_parsedSelectedItem = parsedSelectedItem) === null || _parsedSelectedItem === void 0 ? void 0 : _parsedSelectedItem.value) === parsedItem.value\n          })\n        }),\n        children: parsedItem.label\n      }, parsedItem.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this);\n    });\n  }\n}\n\n_s(InputSelect, \"/yqA6uQPxPaSMRSKJKfrgBEH+TU=\");\n\n_c = InputSelect;\n\nconst getDropdownPosition = target => {\n  if (target instanceof Element) {\n    const {\n      top,\n      left\n    } = target.getBoundingClientRect();\n    const {\n      scrollY\n    } = window;\n    return {\n      top: scrollY + top + target.offsetHeight,\n      // Adjust the dropdown position below the input\n      left\n    };\n  }\n\n  return {\n    top: 0,\n    left: 0\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"InputSelect\");","map":{"version":3,"names":["Downshift","useCallback","useState","classNames","InputSelect","label","defaultValue","onChange","consumerOnChange","items","parseItem","isLoading","loadingLabel","selectedValue","setSelectedValue","isOpen","setIsOpen","dropdownPosition","setDropdownPosition","top","left","selectedItem","toggleDropdown","event","getDropdownPosition","currentTarget","prev","item","getItemProps","getLabelProps","getMenuProps","highlightedIndex","parsedSelectedItem","renderItems","length","map","index","parsedItem","className","value","target","Element","getBoundingClientRect","scrollY","window","offsetHeight"],"sources":["C:/Users/DELL Latitude E747O/Downloads/ramp-fe-challenge/ramp-fe-challenge/src/components/InputSelect/index.tsx"],"sourcesContent":["import Downshift from \"downshift\";\nimport { useCallback, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { DropdownPosition, InputSelectOnChange, InputSelectProps } from \"./types\";\n\nexport function InputSelect<TItem>({\n  label,\n  defaultValue,\n  onChange: consumerOnChange,\n  items,\n  parseItem,\n  isLoading,\n  loadingLabel,\n}: InputSelectProps<TItem>) {\n  const [selectedValue, setSelectedValue] = useState<TItem | null>(defaultValue ?? null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState<DropdownPosition>({\n    top: 0,\n    left: 0,\n  });\n\n  const onChange = useCallback<InputSelectOnChange<TItem>>(\n    (selectedItem) => {\n      if (selectedItem === null) {\n        return;\n      }\n\n      consumerOnChange(selectedItem);\n      setSelectedValue(selectedItem);\n      setIsOpen(false);\n    },\n    [consumerOnChange]\n  );\n\n  const toggleDropdown = (event: React.MouseEvent) => {\n    setDropdownPosition(getDropdownPosition(event.currentTarget));\n    setIsOpen((prev) => !prev);\n  };\n\n  return (\n    <Downshift<TItem>\n      id=\"RampSelect\"\n      onChange={onChange}\n      selectedItem={selectedValue}\n      itemToString={(item) => (item ? parseItem(item).label : \"\")}\n    >\n      {({\n        getItemProps,\n        getLabelProps,\n        getMenuProps,\n        highlightedIndex,\n        selectedItem,\n      }) => {\n        const parsedSelectedItem = selectedItem === null ? null : parseItem(selectedItem);\n\n        return (\n          <div className=\"RampInputSelect--root\">\n            <label className=\"RampText--s RampText--hushed\" {...getLabelProps()}>\n              {label}\n            </label>\n            <div className=\"RampBreak--xs\" />\n            <div\n              className=\"RampInputSelect--input\"\n              onClick={toggleDropdown}\n            >\n              {parsedSelectedItem ? parsedSelectedItem.label : \"Select an option\"}\n            </div>\n\n            {isOpen && (\n              <div\n                className={classNames(\"RampInputSelect--dropdown-container\")}\n                {...getMenuProps()}\n                style={{ top: dropdownPosition.top, left: dropdownPosition.left }}\n              >\n                {renderItems()}\n              </div>\n            )}\n          </div>\n        );\n      }}\n\n      {renderItems()}\n    </Downshift>\n  );\n\n  function renderItems() {\n    if (!isOpen) {\n      return null;\n    }\n\n    if (isLoading) {\n      return <div className=\"RampInputSelect--dropdown-item\">{loadingLabel}...</div>;\n    }\n\n    if (items.length === 0) {\n      return <div className=\"RampInputSelect--dropdown-item\">No items</div>;\n    }\n\n    return items.map((item, index) => {\n      const parsedItem = parseItem(item);\n      return (\n        <div\n          key={parsedItem.value}\n          {...getItemProps({\n            index,\n            item,\n            className: classNames(\"RampInputSelect--dropdown-item\", {\n              \"RampInputSelect--dropdown-item-highlighted\": highlightedIndex === index,\n              \"RampInputSelect--dropdown-item-selected\":\n                parsedSelectedItem?.value === parsedItem.value,\n            }),\n          })}\n        >\n          {parsedItem.label}\n        </div>\n      );\n    });\n  }\n}\n\nconst getDropdownPosition = (target: EventTarget) => {\n  if (target instanceof Element) {\n    const { top, left } = target.getBoundingClientRect();\n    const { scrollY } = window;\n    return {\n      top: scrollY + top + target.offsetHeight, // Adjust the dropdown position below the input\n      left,\n    };\n  }\n  return { top: 0, left: 0 };\n};\n"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAGA,OAAO,SAASC,WAAT,OAQqB;EAAA;;EAAA,IARO;IACjCC,KADiC;IAEjCC,YAFiC;IAGjCC,QAAQ,EAAEC,gBAHuB;IAIjCC,KAJiC;IAKjCC,SALiC;IAMjCC,SANiC;IAOjCC;EAPiC,CAQP;EAC1B,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAeI,YAAf,aAAeA,YAAf,cAAeA,YAAf,GAA+B,IAA/B,CAAlD;EACA,MAAM,CAACS,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACe,gBAAD,EAAmBC,mBAAnB,IAA0ChB,QAAQ,CAAmB;IACzEiB,GAAG,EAAE,CADoE;IAEzEC,IAAI,EAAE;EAFmE,CAAnB,CAAxD;EAKA,MAAMb,QAAQ,GAAGN,WAAW,CACzBoB,YAAD,IAAkB;IAChB,IAAIA,YAAY,KAAK,IAArB,EAA2B;MACzB;IACD;;IAEDb,gBAAgB,CAACa,YAAD,CAAhB;IACAP,gBAAgB,CAACO,YAAD,CAAhB;IACAL,SAAS,CAAC,KAAD,CAAT;EACD,CATyB,EAU1B,CAACR,gBAAD,CAV0B,CAA5B;;EAaA,MAAMc,cAAc,GAAIC,KAAD,IAA6B;IAClDL,mBAAmB,CAACM,mBAAmB,CAACD,KAAK,CAACE,aAAP,CAApB,CAAnB;IACAT,SAAS,CAAEU,IAAD,IAAU,CAACA,IAAZ,CAAT;EACD,CAHD;;EAKA,oBACE,QAAC,SAAD;IACE,EAAE,EAAC,YADL;IAEE,QAAQ,EAAEnB,QAFZ;IAGE,YAAY,EAAEM,aAHhB;IAIE,YAAY,EAAGc,IAAD,IAAWA,IAAI,GAAGjB,SAAS,CAACiB,IAAD,CAAT,CAAgBtB,KAAnB,GAA2B,EAJ1D;IAAA,WAMG,SAMK;MAAA,IANJ;QACAuB,YADA;QAEAC,aAFA;QAGAC,YAHA;QAIAC,gBAJA;QAKAV;MALA,CAMI;MACJ,MAAMW,kBAAkB,GAAGX,YAAY,KAAK,IAAjB,GAAwB,IAAxB,GAA+BX,SAAS,CAACW,YAAD,CAAnE;MAEA,oBACE;QAAK,SAAS,EAAC,uBAAf;QAAA,wBACE;UAAO,SAAS,EAAC,8BAAjB;UAAA,GAAoDQ,aAAa,EAAjE;UAAA,UACGxB;QADH;UAAA;UAAA;UAAA;QAAA,QADF,eAIE;UAAK,SAAS,EAAC;QAAf;UAAA;UAAA;UAAA;QAAA,QAJF,eAKE;UACE,SAAS,EAAC,wBADZ;UAEE,OAAO,EAAEiB,cAFX;UAAA,UAIGU,kBAAkB,GAAGA,kBAAkB,CAAC3B,KAAtB,GAA8B;QAJnD;UAAA;UAAA;UAAA;QAAA,QALF,EAYGU,MAAM,iBACL;UACE,SAAS,EAAEZ,UAAU,CAAC,qCAAD,CADvB;UAAA,GAEM2B,YAAY,EAFlB;UAGE,KAAK,EAAE;YAAEX,GAAG,EAAEF,gBAAgB,CAACE,GAAxB;YAA6BC,IAAI,EAAEH,gBAAgB,CAACG;UAApD,CAHT;UAAA,UAKGa,WAAW;QALd;UAAA;UAAA;UAAA;QAAA,QAbJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAwBD,CAvCH,EAyCGA,WAAW,EAzCd;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EA8CA,SAASA,WAAT,GAAuB;IACrB,IAAI,CAAClB,MAAL,EAAa;MACX,OAAO,IAAP;IACD;;IAED,IAAIJ,SAAJ,EAAe;MACb,oBAAO;QAAK,SAAS,EAAC,gCAAf;QAAA,WAAiDC,YAAjD;MAAA;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;;IAED,IAAIH,KAAK,CAACyB,MAAN,KAAiB,CAArB,EAAwB;MACtB,oBAAO;QAAK,SAAS,EAAC,gCAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;;IAED,OAAOzB,KAAK,CAAC0B,GAAN,CAAU,CAACR,IAAD,EAAOS,KAAP,KAAiB;MAAA;;MAChC,MAAMC,UAAU,GAAG3B,SAAS,CAACiB,IAAD,CAA5B;MACA,oBACE,oBAEMC,YAAY,CAAC;UACfQ,KADe;UAEfT,IAFe;UAGfW,SAAS,EAAEnC,UAAU,CAAC,gCAAD,EAAmC;YACtD,8CAA8C4B,gBAAgB,KAAKK,KADb;YAEtD,2CACE,wBAAAJ,kBAAkB,UAAlB,kEAAoBO,KAApB,MAA8BF,UAAU,CAACE;UAHW,CAAnC;QAHN,CAAD,CAFlB;QAAA,UAYGF,UAAU,CAAChC;MAZd,GACOgC,UAAU,CAACE,KADlB;QAAA;QAAA;QAAA;MAAA,QADF;IAgBD,CAlBM,CAAP;EAmBD;AACF;;GAjHenC,W;;KAAAA,W;;AAmHhB,MAAMoB,mBAAmB,GAAIgB,MAAD,IAAyB;EACnD,IAAIA,MAAM,YAAYC,OAAtB,EAA+B;IAC7B,MAAM;MAAEtB,GAAF;MAAOC;IAAP,IAAgBoB,MAAM,CAACE,qBAAP,EAAtB;IACA,MAAM;MAAEC;IAAF,IAAcC,MAApB;IACA,OAAO;MACLzB,GAAG,EAAEwB,OAAO,GAAGxB,GAAV,GAAgBqB,MAAM,CAACK,YADvB;MACqC;MAC1CzB;IAFK,CAAP;EAID;;EACD,OAAO;IAAED,GAAG,EAAE,CAAP;IAAUC,IAAI,EAAE;EAAhB,CAAP;AACD,CAVD"},"metadata":{},"sourceType":"module"}